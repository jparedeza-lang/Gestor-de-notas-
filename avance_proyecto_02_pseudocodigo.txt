CALCULAR_PROMEDIO_SIMPLIFICADO

INICIO DECLARACIÓN DE VARIABLES
    VARIABLES:
        total_notas    : REAL   // Acumulador de la suma de todas las notas.
        contador_notas : ENTERO // Contador de cuántas notas válidas se han ingresado.
        nota_ingresada : CADENA // Entrada de texto del usuario (para validación).
        promedio       : REAL   // Resultado final.

    total_notas = 0
    contador_notas = 0
    
    ESCRIBIR "--- REGISTRO DE NOTAS ---"
    ESCRIBIR "Ingrese cada nota. Escriba 'FIN' para terminar y calcular."

     BUCLE PARA REGISTRAR NOTAS 
    REPETIR
        LEER nota_ingresada
        nota_ingresada = LIMPIAR_ESPACIOS(nota_ingresada) 

        
        SI NOTA_INGRESADA_ES_IGUAL_A(nota_ingresada, "FIN") ENTONCES
            ROMPER // Finaliza el bucle de registro.
        FIN SI

        SI ES_NUMERICO(nota_ingresada) ENTONCES
            nota_num = CONVERTIR_A_REAL(nota_ingresada)

            VALIDACIÓN DEL RANGO 
            SI nota_num >= 0 Y nota_num <= 100 ENTONCES
                // REGISTRO Y CÁLCULO
                total_notas = total_notas + nota_num
                contador_notas = contador_notas + 1
                ESCRIBIR "Nota registrada."
            SINO
                ESCRIBIR "ERROR: La nota debe estar entre 0 y 100."
            FIN SI
        SINO
            ESCRIBIR "ERROR: Ingrese solo números o 'FIN'."
        FIN SI

    FIN REPETIR

     CaLCULO FINAL Y SALIDA
    ESCRIBIR "--- RESULTADOS ---"
    
    SI contador_notas > 0 ENTONCES
        promedio = total_notas / contador_notas
        ESCRIBIR "El promedio general de ", contador_notas, " notas es: ", REDONDEAR(promedio, 2)
    SINO
        ESCRIBIR "No se ingresaron notas válidas."
    FIN SI

FIN
